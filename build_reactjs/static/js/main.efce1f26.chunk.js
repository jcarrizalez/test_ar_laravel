(this.webpackJsonptest_ar_react_js=this.webpackJsonptest_ar_react_js||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(31),o=n.n(r),s=n(4),i=n(3),l=n(17),u=n(34),b=n(9),j=n(0),d=function(){return Object(j.jsx)("a",{title:"Mi Linkedin",href:"https://www.linkedin.com/in/juan-manuel-carrizalez-martinez-a71320151/",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("img",{src:"https://lh3.googleusercontent.com/ogw/ADea4I67xIQeX_J_E6zDV36Y8jDeFMpg0-lvd2j8saGqTw=s83-c-mo",alt:"",loading:"lazy"})})},m=n(8),p=n.n(m),x=n(12),h=n(32),O=n.n(h),f=n(35),v="http://localhost:8888/api",g=f.a,k=l.b;function w(e){return y.apply(this,arguments)}function y(){return(y=Object(x.a)(p.a.mark((function e(t){var n,c,a,r,o,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},g.push("loader",!0),c=null,e.prev=3,e.next=6,O.a.get(v+t,{params:n});case 6:r=e.sent,c=null!==(a=r.data.data)&&void 0!==a?a:null,e.next=16;break;case 10:e.prev=10,e.t0=e.catch(3),o=null,o=e.t0.request?{message:"Error en Conexi\xf3n",code:"404"}:{message:e.t0.message,code:"500"},g.push("errors",[o]),console.error(o);case 16:return g.push("loader",!1),e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var _=function(e){var t=e.value,n=e.onChance,c=e.children,a=e.paginate,r=a.total,o=a.total_pages,s=a.page;return Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)("input",{type:"text",name:"",id:"",placeholder:"Indique una busqueda",defaultValue:t,onChange:n}),Object(j.jsxs)("div",{id:"search-paginate",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"registros:"})," ",r," "]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"pagina:"})," ",o?s:""," "]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"paginas:"})," ",o," "]})]}),c]})},N={url:"/books?page={{page}}&count={{count}}",book:null,text:"",timer:0,elements:[],paginate:{count:20,page:1}},E=N,z=function(e){e.text;var t=e.item,n=t.slug,c=t.name;return Object(j.jsx)("div",{className:"card item",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(k,{to:"/reader/".concat(n,"?location=1"),children:Object(j.jsx)("h5",{className:"card-title",children:Object(j.jsx)("b",{children:c})})})})})};function q(e){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(p.a.mark((function e(t){var n,c,a,r,o,i,l,u,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(n=E).text,a=n.url,r=n.elements,o=n.paginate,i=o.page,l=o.count,(u=o.total_pages)!==i){e.next=3;break}return e.abrupt("return",null);case 3:return a=a.replace("{{page}}",u?i+1:i).replace("{{count}}",l)+(""!==c?"&search=".concat(c):""),e.next=6,w(a);case 6:(b=e.sent)&&(E=Object(s.a)(Object(s.a)({},E),{},{paginate:b.metadata,elements:r.concat(b.elements)})),t(new Date);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=e.book,n=Object(c.useState)(null),a=Object(b.a)(n,2),r=a[0],o=a[1],i=E,l=i.text,u=i.paginate,d=i.elements;return Object(c.useEffect)((function(){return q(o),function(){return clearTimeout(E.timer)}}),[]),Object(c.useEffect)((function(){var e=document.getElementById("search-elements");function t(t){e.offsetHeight+e.scrollTop>=e.scrollHeight&&q(o)}return e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}}),[r]),Object(j.jsx)(_,{value:l,paginate:u,onChance:function(e){var n=e.target.value;clearTimeout(E.timer),E=Object(s.a)(Object(s.a)({},N),{},{book:t,text:n,timer:setTimeout((function(){q(o)}),500)})},children:Object(j.jsx)("div",{id:"search-elements",children:d.map((function(e,t){return Object(j.jsx)(z,{text:l,item:e},t)}))})})};function L(e){var t=e.onClick,n=Object(c.useState)(g.get("book")),a=Object(b.a)(n,2),r=a[0],o=a[1];return document.title=r.name,Object(c.useEffect)((function(){var e=g.subscribe((function(){g.is("book")&&o(g.get("book"))}));return function(){return e()}})),Object(j.jsxs)("div",{id:"logo",className:"nav_logo",onClick:t,children:[Object(j.jsx)("i",{className:"bx bx-layer nav_logo-icon"}),Object(j.jsx)("span",{className:"nav_logo-name ",children:r.name})]})}var S={url:"/books/{{book}}/content?page={{page}}&count={{count}}",book:null,text:null,timer:0,elements:[],paginate:{count:20,page:1}},T=S,I=function(e){var t=e.text,n=e.item,c=n.page,a=n.text_content,r=null===a?"":String(a);return r=r.substring(0,200)+(r.length>200?"...":""),""!==t&&(r=r.replace(t,"{{"+t.toUpperCase()+"}}")),Object(j.jsx)("div",{className:"card item",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)(k,{to:"/reader/eloquent-javascript?location=".concat(c),children:[Object(j.jsxs)("h5",{className:"card-title",children:[Object(j.jsx)("b",{children:"P\xc1GINA"})," ",c]}),Object(j.jsx)("p",{className:"card-text",children:r})]})})})};function H(e){return A.apply(this,arguments)}function A(){return(A=Object(x.a)(p.a.mark((function e(t){var n,c,a,r,o,i,l,u,b,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(n=T).text,a=n.book,r=n.url,o=n.elements,i=n.paginate,l=i.page,u=i.count,b=i.total_pages,null!==c){e.next=3;break}return e.abrupt("return",null);case 3:if(b!==l){e.next=5;break}return e.abrupt("return",null);case 5:return r=r.replace("{{book}}",a).replace("{{page}}",b?l+1:l).replace("{{count}}",u)+(""!==c?"&search=".concat(c):""),e.next=8,w(r);case 8:(j=e.sent)&&(T=Object(s.a)(Object(s.a)({},T),{},{paginate:j.metadata,elements:o.concat(j.elements)}),g.push("search",T)),t(new Date);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=e.book,n=Object(c.useState)(null),a=Object(b.a)(n,2),r=a[0],o=a[1],i=T,l=i.text,u=i.paginate,d=i.elements;return Object(c.useEffect)((function(){var e=g.get("search");e.elements&&(T=Object(s.a)(Object(s.a)({},S),e),o(new Date))}),[]),Object(c.useEffect)((function(){return function(){return clearTimeout(T.timer)}}),[]),Object(c.useEffect)((function(){var e=document.getElementById("search-elements");function t(t){e.offsetHeight+e.scrollTop>=e.scrollHeight&&H(o)}return e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}}),[r]),Object(j.jsx)(_,{value:l,paginate:u,onChance:function(e){var n=e.target.value;clearTimeout(T.timer),T=Object(s.a)(Object(s.a)({},S),{},{book:t,text:n,timer:setTimeout((function(){H(o)}),500)})},children:Object(j.jsx)("div",{id:"search-elements",children:d.map((function(e,t){return Object(j.jsx)(I,{text:l,item:e},t)}))})})},B={api_url:"".concat(v,"/books/{{book}}?page={{page}}"),web_url:null,current:null,expand:!1,zoom:70,book:null,books:[]};function J(e){var t=e.match,n=t.url,a=t.params,r=e.query;B.book=a.book,B.web_url=n;var o=r.get("location")||1,s=Object(c.useRef)(),i=Object(c.useState)(null),l=Object(b.a)(i,2),u=l[0],m=l[1],p=B.expand,x=B.zoom,h=B.current,O=B.book,f=B.books,v=function(){var e=function(e,t){return document.querySelector(e).classList[p?"remove":"add"](t)};e("#nav-bar","show"),e("#header-toggle","bx-x"),e("#body-pd","body-pd"),e("#header","body-pd"),!0===p&&(B.current=null),B.expand=!p,m(new Date)},g=function(e){return p===e?v():null},k=function(e){"zoom-in"===e&&x<200?B.zoom+=10:x>0&&(B.zoom-=10),m(new Date)},w=function(e){["zoom-in","zoom-out"].includes(e)||g(!1),B.current=e,m(new Date),document.querySelectorAll(".nav_link").forEach((function(e){return e.classList.remove("active")})),document.querySelector("#"+e).classList.add("active")};Object(c.useEffect)((function(){!function(e,t){var n=B.books,c=B.api_url.replace("{{book}}",B.book).replace("{{page}}",t);-1===n.indexOf(c)&&((n=[]).push({page:t,url:c}),B.books=n);e(new Date)}(m,o)}),[o]),Object(c.useEffect)((function(){function e(e){var t=s.current.offsetHeight,n=window;n.scrollY+n.innerHeight>=t&&console.log("scroll dejo para despues")}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[o]);var y=function(e){var t=e.id,n=e.icon,c=e.title,a=h===t,r=["zoom-in","zoom-out"].includes(t);return!0!==p||null===h||a||r?Object(j.jsxs)("div",{id:t,className:"nav_link"+(a?" active":""),children:[Object(j.jsx)("i",{className:"bx ".concat(n," nav_icon"),onClick:function(){return r?k(t):w(t)}}),Object(j.jsx)("div",{className:"nav_name",onClick:function(){return r?k(t):w(t)},children:c}),r?null:Object(j.jsx)("i",{title:"Cerrar",className:a?"bx bx-x nav_link_close":"",onClick:function(){return function(e){B.update=u,B.current=e,m(new Date)}(null)}})]}):null};return Object(j.jsxs)("div",{className:"snippet-body",id:"body-pd",children:[Object(j.jsxs)("header",{className:"header",id:"header",children:[Object(j.jsx)("div",{className:"header_img",children:Object(j.jsx)(d,{})}),Object(j.jsx)("div",{className:"header_toggle",children:Object(j.jsx)("i",{className:"bx bx-menu",id:"header-toggle",onClick:v})})]}),Object(j.jsx)("div",{className:"l-navbar",id:"nav-bar",children:Object(j.jsx)("nav",{className:"nav",children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)(L,{onClick:function(){return v()}}),Object(j.jsxs)("div",{className:"nav_list",children:[Object(j.jsx)(y,{id:"thumbnails",icon:"bx-grid",title:"Miniaturas"}),Object(j.jsx)(y,{id:"books",icon:"bx-menu",title:"Tabla de Contenidos"}),Object(j.jsx)(y,{id:"annotator",icon:"bx-book",title:"Anotador"}),Object(j.jsx)(y,{id:"content",icon:"bx-search",title:"Busqueda"}),Object(j.jsx)(y,{id:"zoom-in",icon:"bx-zoom-in",title:"Ampliar"}),Object(j.jsx)(y,{id:"zoom-out",icon:"bx-zoom-out",title:"Minimizar"})]}),Object(j.jsx)(G,{current:h,book:O,query:r})]})})}),Object(j.jsx)("div",{id:"main-content",className:"height-100 bg-light",onClick:function(){return g(!0)},children:Object(j.jsx)("div",{className:"books-content",ref:s,children:f.map((function(e,t){return Object(j.jsx)("img",{src:e.url,alt:"",loading:"lazy",width:x+"%"},t)}))})})]})}var G=function(e){var t=e.current,n=e.book,c=e.query;switch(t){case"content":return Object(j.jsx)(M,{book:n,query:c});case"books":return Object(j.jsx)(D,{query:c});default:return null}};function P(e){var t=new URLSearchParams(Object(i.g)().search);return Object(j.jsx)(i.d,{children:Object(j.jsx)(i.b,{path:"/reader/:book",render:function(e){return Object(j.jsx)(J,Object(s.a)(Object(s.a)({},e),{},{query:t}))}})})}var R=function(){var e=Object(u.a)();return g.store({book:{slug:"eloquent-javascript",name:"Eloquent JavaScript"},loader:!1,search:{}}),Object(j.jsx)(i.c,{history:e,children:Object(j.jsx)(l.a,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.a,{from:"/",exact:!0,to:"/reader/eloquent-javascript?location=1"}),Object(j.jsx)(i.b,{path:"/*",render:function(e){return Object(j.jsx)(P,Object(s.a)({},e))}})]})})})};n(63),n(66);n(67),o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(R,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.efce1f26.chunk.js.map